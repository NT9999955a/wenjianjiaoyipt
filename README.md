# 文件交易平台 - 轻量级PHP解决方案

## 概述

这是一个基于PHP开发的轻量级文件交易平台，使用JSON文件存储数据，无需数据库支持。平台支持文件上传、购买、下载、收藏和点赞等功能，用户可以通过签到和交易获取金币。

## 功能特性

### 用户系统
- 用户注册与登录
- 个人资料管理
- 密码重置功能
- 金币系统（签到获取金币）
- 用户等级系统（基于连续签到）

### 文件管理
- **分块上传**：支持大文件分块上传（990KB/块）
- 文件描述和定价
- 文件删除（仅文件所有者）
- 文件搜索功能（按ID、名称或描述）

### 交易系统
- 文件购买（使用金币）
- 金币转账功能
- 文件收藏与点赞
- 文件下载（购买后生成临时下载链接）

### 社交功能
- 文件收藏夹
- 文件点赞系统
- 查看文件下载次数
- 查看文件收益统计

## 技术实现

### 前端
- 响应式设计（适配移动设备）
- 简洁现代的UI界面
- SVG图标系统
- 分块上传进度显示
- 无刷新交互（AJAX）

### 后端
- PHP 7.0+ 兼容
- JSON文件存储（用户数据和文件数据）
- 密码加密存储（bcrypt）
- 文件分块上传处理
- 下载令牌验证系统

### 安全特性
- 会话管理
- 文件所有权验证
- 下载链接有效期控制（10分钟）
- 输入数据过滤和验证

## 文件结构

```
├── data/                 # 数据存储目录
│   ├── users.json        # 用户数据
│   └── files.json        # 文件数据
├── uploads/              # 文件存储目录
│   ├── {file_id}/        # 最终文件存储
│   └── temp_{file_id}/   # 上传临时文件
└── index.php             # 主程序文件
```

## 安装与使用

1. 确保服务器环境支持PHP（5.6+）
2. 将代码部署到Web服务器
3. 确保`data/`和`uploads/`目录可写
4. 访问网站首页即可使用

## 优势特点

- **轻量级**：无需数据库，使用JSON文件存储
- **响应式设计**：完美适配移动设备
- **完整功能**：包含文件交易全流程功能
- **安全可靠**：密码加密存储，下载链接验证
- **易于部署**：单文件部署，无复杂依赖

## 上传过慢的问题
- 在代码的第12行可进行编辑

这个平台非常适合作为小型文件分享和交易系统的原型或基础，代码结构清晰，功能完整，可以直接部署使用。
